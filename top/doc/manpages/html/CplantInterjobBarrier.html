  <!-- manual page source format generated by PolyglotMan v3.0.9, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>INTERJOBBARRIER(3) manual page</TITLE>
</HEAD>
<BODY bgcolor=white>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">Name</A></H2>
    <BR>
 <P>
  CplantInterjobBarrier, CplantInterjobBarrierGrp  <BR>
CplantBarrierStatus, CplantBarrierStatusGrp 
<H2><A NAME="sect1" HREF="#toc1">Synopsis</A></H2>
    <BR>
 <P>
  <B>#include &lt;cplant.h&gt;</B>  <B>int CplantInterjobBarrier(jobFamilyInfo *</B><I>otherjob</I><B>)</B>
 <B>int CplantBarrierStatus(jobFamilyInfo *</B><I>otherjob</I><B>)</B>  <B>int CplantInterjobBarrierGrp(jobFamilyInfo
*</B><I>otherjob</I><B>, int </B><I>nM
embers</I><B>
, int *</B><I>rankList</I><B>, int </B><I>tmout</I><B>)</B>  <B>int CplantBarrierStatusGrp(jobFamilyInfo
*</B><I>otherjob</I><B>, int </B><I>nMem
bers</I><B>, 
int *</B><I>rankList</I><B>, int </B><I>tmout</I><B>)</B> 
<H2><A NAME="sect2" HREF="#toc2">Description</A></H2>
    <BR>
 <P>
  When a Cplant application spawns a child application, it will probably
be neccesary to synchronize the two them before message passing can commence.
  These calls can be used to create a non-blocking barrier between two jobs
in the same family.  (A <I>family</I> is all jobs started by one original Cplant
application and it's descendants.)  The barrier is implemented through <B>yod2</B>,
the utility that launched both applications and remains running on the
service node to service their requests.  When <B>yod2</B> receives a request from
one process in a job (call it <I>job1</I>) to synchronize with another job (<I>job2</I>),
it notes that the synchronization is in progress, and replies to <I>job1</I> with
this fact.   When it receives a request from <I>job2</I> to synchronize with <I>job1</I>,
it notes that the synchronization is complete, and replies with this fact
to <I>job2</I>, and notes that it has informed <I>job2</I> that the synchronization is
complete.  When the next  status request is received from <I>job1</I>, <B>yod2</B> replies
that the synchronization request is complete.  Now since <B>yod2</B> has told each
job that the synchronization is complete, it forgets about the synchronization
request.  This means that the synchronization operation is identified by
the two job IDs, so only one synchronization per job ID pair can be in
progress at any time.  Only one process in each job should request the synchronization,
and only one should receive the reply that the synchronization is completed.
 The function <B>CplantInterjobBarrier</B> sends the request to <B>yod2</B> to provide
a synchronziation point for the calling job and the <I>otherjob</I>. The function
<B>CplantBarrierStatus</B> requests the current status of the effort to synchronize
with the job <I>otherjob</I>.  The functions <B>CplantInterjobBarrierGrp</B> and <B>CplantBarrierStatusGrp</B>
are collective calls. Every process that participates in the synchronization
request must make the call with the same list of participants. <I>nMembers</I>
is the number of processes participating in the call, <I>rankList</I> is the list
of participating process ranks, and <I>tmout</I> is the number of seconds to wait
before judging a collective operation among the pariticpants to be a failure.
 In our implementation of this call, the first process in the <I>rankList</I>
makes the request to <B>yod2</B> and broadcasts the results to the others.  If
<I>nMembers</I> is zero, or <I>rankList</I> is NULL, then this is taken to mean that
all processes in the application are participating. 
<H2><A NAME="sect3" HREF="#toc3">Return Value</A></H2>
    <BR>
 <P>
  Both functions return SYNC_COMPLETED if the synchronization is complete,
SYNC_IN_PROGRESS if the synchronization is in progress, or SYNC_ERROR if
the synchronization request failed. 
<H2><A NAME="sect4" HREF="#toc4">See Also</A></H2>
    <BR>
 <P>
  <B>yod2</B> <B>CplantSpawnJob</B> <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">Name</A></LI>
<LI><A NAME="toc1" HREF="#sect1">Synopsis</A></LI>
<LI><A NAME="toc2" HREF="#sect2">Description</A></LI>
<LI><A NAME="toc3" HREF="#sect3">Return Value</A></LI>
<LI><A NAME="toc4" HREF="#sect4">See Also</A></LI>
</UL>
</BODY></HTML>
